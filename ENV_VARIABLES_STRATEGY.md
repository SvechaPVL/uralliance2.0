# ๐ ะกััะฐัะตะณะธั ัะฐะฑะพัั ั ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั

## ๐ ะะดะต ะบะฐะบะธะต ะฟะตัะตะผะตะฝะฝัะต ััะฐะฝัััั

### โ ะะ ะฒ GitHub (ะฝะธะบะพะณะดะฐ!)

ะญัะธ ัะฐะนะปั **ะะ ะบะพะผะผะธััััั** ะฒ Git (ะฒ `.gitignore`):

- `.env` - ะปะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ
- `.env.local` - ะปะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต
- `.env.production` - production ะฟะตัะตะผะตะฝะฝัะต

### โ ะ GitHub ัะตะฟะพะทะธัะพัะธะธ

ะขะพะปัะบะพ ัะฐะฑะปะพะฝั **ะะะ ัะตะฐะปัะฝัั ะทะฝะฐัะตะฝะธะน**:

- `.env.example` - ัะฐะฑะปะพะฝ ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- `.env.production.example` - ัะฐะฑะปะพะฝ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ

### ๐ ะ GitHub Secrets

**ะขะพะปัะบะพ ะดะปั CI/CD**, ะฝะต ะดะปั ะฟะตัะตะผะตะฝะฝัั ะฟัะธะปะพะถะตะฝะธั!

```
SERVER_HOST=89.111.153.225
SERVER_USER=root
SERVER_SSH_KEY=<ะฒะฐั SSH ะบะปัั>
```

### ๐ฅ๏ธ ะะฐ ัะตัะฒะตัะต

**ะคะฐะนะป:** `/opt/uralliance/.env` (ัะถะต ัะพะทะดะฐะฝ โ)

ะัะต ัะตะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะฟัะธะปะพะถะตะฝะธั:

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=8442029794:AAE7o3mKkZmmFRoo7zkjrJFNcQDklatQkUw
TELEGRAM_CHAT_ID=474709002

# Public Messenger Contact Information
NEXT_PUBLIC_WHATSAPP_PHONE=79147054713
NEXT_PUBLIC_TELEGRAM_USERNAME=svechapvl

# Site Configuration
NEXT_PUBLIC_SITE_URL=https://uralliance.ru

# Analytics
NEXT_PUBLIC_YANDEX_METRIKA_ID=105470354
```

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### 1. ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

```bash
# ะกะบะพะฟะธััะนัะต ัะฐะฑะปะพะฝ
cp .env.example .env.local

# ะััะตะดะฐะบัะธััะนัะต ะฟะพะด ัะตะฑั
nano .env.local
```

Next.js ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะณััะถะฐะตั `.env.local`

### 2. Production ะดะตะฟะปะพะน

```
โโโโโโโโโโโโโโโ
โ Git Push    โ
โ   main      โ
โโโโโโโโฌโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ
โ GitHub Actions  โ
โ - ะะธะปะดะธั ะพะฑัะฐะท  โ
โ - ะะพะฟะธััะตั ะฝะฐ   โ
โ   ัะตัะฒะตั        โ
โโโโโโโโฌโโโโโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะกะตัะฒะตั                  โ
โ /opt/uralliance/        โ
โ   โโโ .env โโโโโโโโโโโโโโผโโโ ะะตัะตะผะตะฝะฝัะต ะฑะตััััั ะพัััะดะฐ!
โ   โโโ docker-compose.ymlโ
โ   โโโ deploy.sh         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Docker Compose          โ
โ - ะงะธัะฐะตั .env           โ
โ - ะะพะดััะฐะฒะปัะตั ะฒ ะบะพะฝัะตะนะฝะตัโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะขะธะฟั ะฟะตัะตะผะตะฝะฝัั

### ะัะฑะปะธัะฝัะต (`NEXT_PUBLIC_*`)

โ ะัััะฐะธะฒะฐัััั ะฒ ะบะปะธะตะฝััะบะธะน JavaScript
โ ะะธะดะฝั ะฒัะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะฒ ะฑัะฐัะทะตัะต
โ ะะพะถะฝะพ ััะฐะฝะธัั ะฒ ะฟัะธะผะตัะฐั

ะัะธะผะตัั:

- `NEXT_PUBLIC_SITE_URL` - URL ัะฐะนัะฐ
- `NEXT_PUBLIC_YANDEX_METRIKA_ID` - ะฟัะฑะปะธัะฝัะน ID ััะตััะธะบะฐ
- `NEXT_PUBLIC_WHATSAPP_PHONE` - ะฝะพะผะตั ัะตะปะตัะพะฝะฐ
- `NEXT_PUBLIC_TELEGRAM_USERNAME` - username Telegram

### ะัะธะฒะฐัะฝัะต (ะฑะตะท `NEXT_PUBLIC_`)

โ ะะ ะดะพะปะถะฝั ะฑััั ะฒ ะบะปะธะตะฝััะบะพะผ ะบะพะดะต
โ ะะะะะะะ ะฝะต ะบะพะผะผะธัััะต ะฒ Git
โ ะขะพะปัะบะพ ะฝะฐ ัะตัะฒะตัะต ะฒ `.env`

ะัะธะผะตัั:

- `TELEGRAM_BOT_TOKEN` - ัะตะบัะตัะฝัะน ัะพะบะตะฝ ะฑะพัะฐ
- `TELEGRAM_CHAT_ID` - ID ัะฐัะฐ
- `DATABASE_URL` - ัััะพะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ะะ
- `API_SECRET_KEY` - ัะตะบัะตัะฝัะต ะบะปััะธ

## ๐ ะะฐะบ ะพะฑะฝะพะฒะธัั ะฟะตัะตะผะตะฝะฝัะต ะฝะฐ ัะตัะฒะตัะต

### ะะฐัะธะฐะฝั 1: ะงะตัะตะท SSH (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# ะะพะดะบะปััะธัะตัั ะบ ัะตัะฒะตัั
ssh uralliance

# ะััะตะดะฐะบัะธััะนัะต .env
nano /opt/uralliance/.env

# ะะตัะตะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั
cd /opt/uralliance
docker compose down
docker compose up -d
```

### ะะฐัะธะฐะฝั 2: ะฃะดะฐะปะตะฝะฝะพ ะธะท ะปะพะบะฐะปัะฝะพะน ะผะฐัะธะฝั

```bash
# ะกะบะพะฟะธััะนัะต ะฝะพะฒัะน .env ะฝะฐ ัะตัะฒะตั
scp .env.production uralliance:/opt/uralliance/.env

# ะะตัะตะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั
ssh uralliance "cd /opt/uralliance && docker compose restart"
```

## โ๏ธ ะะฐะถะฝัะต ะฟัะฐะฒะธะปะฐ

### โ ะะ

- ะฅัะฐะฝะธัะต `.env` ัะพะปัะบะพ ะฝะฐ ัะตัะฒะตัะต
- ะัะฟะพะปัะทัะนัะต `.env.example` ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ
- ะะพะฑะฐะฒััะต ะฒัะต `.env*` ะฒ `.gitignore`
- ะัะฑะปะธัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะฝะฐัะธะฝะฐะนัะต ั `NEXT_PUBLIC_`

### โ ะะะข

- โ ะะะะะะะ ะฝะต ะบะพะผะผะธัััะต ัะตะฐะปัะฝัะต `.env` ัะฐะนะปั
- โ ะะ ััะฐะฝะธัะต ัะตะบัะตัั ะฒ GitHub Secrets (ะบัะพะผะต SSH ะบะปััะตะน)
- โ ะะ ะฟะธัะธัะต ัะตะบัะตัั ะฟััะผะพ ะฒ `docker-compose.yml`
- โ ะะ ะธัะฟะพะปัะทัะนัะต ะพะดะธะฝะฐะบะพะฒัะต ัะพะบะตะฝั ะดะปั dev ะธ prod

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะงัะพ ะผะพะถะตั ะฑััั ะฒ Git

```env
# โ ะะ - ััะพ ะฟัะฑะปะธัะฝะฐั ะธะฝัะพัะผะฐัะธั
NEXT_PUBLIC_SITE_URL=https://uralliance.ru
NEXT_PUBLIC_YANDEX_METRIKA_ID=105470354
```

### ะงัะพ ะะ ะดะพะปะถะฝะพ ะฑััั ะฒ Git

```env
# โ ะกะะะะะข - ัะพะปัะบะพ ะฝะฐ ัะตัะฒะตัะต!
TELEGRAM_BOT_TOKEN=8442029794:AAE7o3mKkZmmFRoo7zkjrJFNcQDklatQkUw
DATABASE_PASSWORD=super_secret_password
API_KEY=sk-1234567890abcdef
```

## ๐ฆ ะงัะพ ัะถะต ะณะพัะพะฒะพ

โ `.env.example` - ัะฐะฑะปะพะฝ ะดะปั ัะฐะทัะฐะฑะพัะบะธ
โ `.env.production.example` - ัะฐะฑะปะพะฝ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ
โ `/opt/uralliance/.env` - ัะตะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะฝะฐ ัะตัะฒะตัะต
โ `docker-compose.yml` - ัะธัะฐะตั ะฟะตัะตะผะตะฝะฝัะต ะธะท `.env`
โ GitHub Actions - ะธัะฟะพะปัะทัะตั SSH ะดะปั ะดะตะฟะปะพั

## ๐ฏ ะัะพะณะพ

**ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะะ ะธะดัั ะฒ GitHub!**

ะะฝะธ:

1. โ ะฅัะฐะฝัััั ะฒ `/opt/uralliance/.env` ะฝะฐ ัะตัะฒะตัะต
2. โ ะงะธัะฐัััั `docker-compose.yml` ะฟัะธ ะทะฐะฟััะบะต
3. โ ะะตัะตะดะฐัััั ะฒ ะบะพะฝัะตะนะฝะตั Docker
4. โ ะัะฟะพะปัะทััััั Next.js ะฟัะธะปะพะถะตะฝะธะตะผ

**GitHub Secrets ะธัะฟะพะปัะทััััั ัะพะปัะบะพ ะดะปั:**

- SSH ะฟะพะดะบะปััะตะฝะธั ะบ ัะตัะฒะตัั
- ะััะณะพะน CI/CD ะธะฝััะฐััััะบัััั

---

**ะัั ัะถะต ะฝะฐัััะพะตะฝะพ ะธ ัะฐะฑะพัะฐะตั!** ๐
