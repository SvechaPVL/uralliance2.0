# üìä Analytics Setup

## –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**ID —Å—á–µ—Ç—á–∏–∫–∞:** `105470354`

**–í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- ‚úÖ **–í–µ–±–≤–∏–∑–æ—Ä** - –∑–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ö–∞—Ä—Ç–∞ –∫–ª–∏–∫–æ–≤** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–∫–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
- ‚úÖ **–¢–æ—á–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–æ–≤** - –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç–∫–∞–∑–æ–≤
- ‚úÖ **Ecommerce** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ú–µ—Ç—Ä–∏–∫–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
NEXT_PUBLIC_YANDEX_METRIKA_ID=105470354
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–§–∞–π–ª:** `src/components/system/YandexMetrika.tsx`

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `layout.tsx` –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `mc.yandex.ru/metrika/tag.js`
4. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –µ—Å—Ç—å - –º–µ—Ç—Ä–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ HTML:

```html
<!-- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ <body> -->
<script id="yandex-metrika">
  (function(m,e,t,r,i,k,a){ ... })
</script>
```

### –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

–ú–µ—Ç—Ä–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∏:

```
https://metrika.yandex.ru/dashboard?id=105470354
```

### –°–æ–±—ã—Ç–∏—è (–¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è)

–ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è:

```typescript
// –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
"use client";

declare global {
  interface Window {
    ym?: (id: number, method: string, ...args: any[]) => void;
  }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è
window.ym?.(105470354, "reachGoal", "CONTACT_FORM_SUBMIT");
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ü–µ–ª–∏

–ü—Ä–∏–º–µ—Ä—ã —Ü–µ–ª–µ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

- `CONTACT_FORM_SUBMIT` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- `CALL_BUTTON_CLICK` - –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–≤–æ–Ω–∫–∞
- `WHATSAPP_CLICK` - –∫–ª–∏–∫ –Ω–∞ WhatsApp
- `TELEGRAM_CLICK` - –∫–ª–∏–∫ –Ω–∞ Telegram
- `SERVICE_VIEW` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ª—É–≥–∏
- `PRICE_VIEW` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ü–µ–Ω
- `BLOG_READ` - —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –±–ª–æ–≥–∞

### SSR —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Next.js SSR:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `"use client"` –¥–∏—Ä–µ–∫—Ç–∏–≤—É
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `next/script` —Å `strategy="afterInteractive"`
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

**–í–∞–∂–Ω–æ:** –ú–µ—Ç—Ä–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_YANDEX_METRIKA_ID`.
