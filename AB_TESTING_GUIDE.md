# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ A/B –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ A/B —Ç–µ—Å—Ç–∞–º –Ω–∞ —Å–∞–π—Ç–µ UrAlliance —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –∞–Ω–∞–ª–∏–∑—É –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é.

## üìä –ê–∫—Ç–∏–≤–Ω—ã–µ A/B –¢–µ—Å—Ç—ã

–ù–∞ —Å–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ **2 –∞–∫—Ç–∏–≤–Ω—ã—Ö A/B —Ç–µ—Å—Ç–∞** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:

### **1. Hero CTA Button Texts** (`hero_cta`)

**–¶–µ–ª—å**: –ù–∞–π—Ç–∏ –Ω–∞–∏–±–æ–ª–µ–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –¥–ª—è –≥–ª–∞–≤–Ω—ã—Ö CTA –∫–Ω–æ–ø–æ–∫

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, Hero —Å–µ–∫—Ü–∏—è (–æ–±–µ –∫–∞—Ä—Ç–æ—á–∫–∏ Legal –∏ Tech)

**–í–∞—Ä–∏–∞–Ω—Ç—ã**:

| –í–∞—Ä–∏–∞–Ω—Ç | Legal CTA               | Tech CTA              | –ì–∏–ø–æ—Ç–µ–∑–∞                        |
| ------- | ----------------------- | --------------------- | ------------------------------- |
| **A**   | "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é" | "–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"     | –ú—è–≥–∫–∏–π –ø–æ–¥—Ö–æ–¥, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –ø–æ–º–æ—â—å |
| **B**   | "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤—Å—Ç—Ä–µ—á—É" | "–ù–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É"   | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, —Å—Ä–æ—á–Ω–æ—Å—Ç—å  |
| **C**   | "–°–≤—è–∑–∞—Ç—å—Å—è —Å —é—Ä–∏—Å—Ç–æ–º"   | "–ó–∞–∫–∞–∑–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É" | –ü—Ä—è–º–æ–π –ø–æ–¥—Ö–æ–¥, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π   |

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞**:

- –ü–µ—Ä–≤–∏—á–Ω–∞—è: CTR (Click-Through Rate) –∫–Ω–æ–ø–æ–∫
- –í—Ç–æ—Ä–∏—á–Ω–∞—è: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞
- –ö–æ–Ω–µ—á–Ω–∞—è: –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –ª–∏–¥ (`contact_form_submit`)

**–¶–µ–ª–∏ –≤ Yandex Metrika**:

- `ab_test_hero_cta_variant_A`
- `ab_test_hero_cta_variant_B`
- `ab_test_hero_cta_variant_C`

---

### **2. Messenger Priority Order** (`messenger_order`)

**–¶–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤ –≤ Footer

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: Footer (–≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

**–í–∞—Ä–∏–∞–Ω—Ç—ã**:

| –í–∞—Ä–∏–∞–Ω—Ç | –ü–æ—Ä—è–¥–æ–∫                     | –ì–∏–ø–æ—Ç–µ–∑–∞                          |
| ------- | --------------------------- | --------------------------------- |
| **A**   | Telegram ‚Üí WhatsApp ‚Üí Email | Telegram –ø–æ–ø—É–ª—è—Ä–Ω–µ–µ –≤ –†–æ—Å—Å–∏–∏      |
| **B**   | WhatsApp ‚Üí Telegram ‚Üí Email | WhatsApp –ø—Ä–∏–≤—ã—á–Ω–µ–µ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞    |
| **C**   | Email only                  | –§–æ–∫—É—Å –Ω–∞ email –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª |

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞**:

- –ü–µ—Ä–≤–∏—á–Ω–∞—è: –ö–ª–∏–∫–∏ –ø–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º (`whatsapp_click`, `telegram_click`)
- –í—Ç–æ—Ä–∏—á–Ω–∞—è: –ö–∞—á–µ—Å—Ç–≤–æ –ª–∏–¥–æ–≤ –∏–∑ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- –ö–æ–Ω–µ—á–Ω–∞—è: –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ —Å–¥–µ–ª–∫—É

**–¶–µ–ª–∏ –≤ Yandex Metrika**:

- `ab_test_messenger_order_variant_A`
- `ab_test_messenger_order_variant_B`
- `ab_test_messenger_order_variant_C`

---

## üîç –ö–∞–∫ –ß–∏—Ç–∞—Ç—å –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Yandex Metrika**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Yandex Metrika ‚Üí –≤–∞—à —Å—á–µ—Ç—á–∏–∫
2. **–û—Ç—á–µ—Ç—ã ‚Üí –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã ‚Üí –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ ‚Üí –¶–µ–ª–∏**
3. –ù–∞–π–¥–∏—Ç–µ —Ü–µ–ª–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `ab_test_`

### **–®–∞–≥ 2: –°–æ–±–µ—Ä–∏—Ç–µ –î–∞–Ω–Ω—ã–µ**

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ —Å–æ–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É:

#### –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∞ Hero CTA:

| –í–∞—Ä–∏–∞–Ω—Ç | –ü–æ–∫–∞–∑—ã | –ö–ª–∏–∫–∏ CTA | CTR  | –ó–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã | CR (Conversion Rate) |
| ------- | ------ | --------- | ---- | ---------------- | -------------------- |
| A       | 1000   | 45        | 4.5% | 12               | 1.2%                 |
| B       | 980    | 52        | 5.3% | 15               | 1.53%                |
| C       | 1020   | 38        | 3.7% | 8                | 0.78%                |

**–§–æ—Ä–º—É–ª—ã**:

- **CTR** = (–ö–ª–∏–∫–∏ CTA / –ü–æ–∫–∞–∑—ã) √ó 100%
- **CR** = (–ó–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã / –ü–æ–∫–∞–∑—ã) √ó 100%

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫—É—é –ó–Ω–∞—á–∏–º–æ—Å—Ç—å**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä A/B —Ç–µ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://www.abtestguide.com/calc/):

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:

- **–†–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏**: –ú–∏–Ω–∏–º—É–º 100 –∫–æ–Ω–≤–µ—Ä—Å–∏–π –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç
- **–£—Ä–æ–≤–µ–Ω—å –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏**: p-value < 0.05 (95% confidence)
- **–†–∞–∑–Ω–∏—Ü–∞**: –ú–∏–Ω–∏–º—É–º 10% –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –¥–ª—è –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ç–µ—Å—Ç —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏! –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö.

### **–®–∞–≥ 4: –û–±—ä—è–≤–∏—Ç–µ –ü–æ–±–µ–¥–∏—Ç–µ–ª—è**

–ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è:

‚úÖ **–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω**, –µ—Å–ª–∏:

- p-value < 0.05 (—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º)
- –†–∞–∑–Ω–∏—Ü–∞ –≤ CR > 10%
- –ú–∏–Ω–∏–º—É–º 2 –Ω–µ–¥–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–∏–Ω–∏–º—É–º 100 –∫–æ–Ω–≤–µ—Ä—Å–∏–π –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç

‚è∏Ô∏è **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç**, –µ—Å–ª–∏:

- p-value > 0.05 (–Ω–µ –∑–Ω–∞—á–∏–º)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö (< 100 –∫–æ–Ω–≤–µ—Ä—Å–∏–π)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã (—Ä–µ–∑–∫–∏–µ —Å–∫–∞—á–∫–∏)

‚ùå **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç**, –µ—Å–ª–∏:

- –ù–µ—Ç —Ä–∞–∑–ª–∏—á–∏–π –ø–æ—Å–ª–µ 4 –Ω–µ–¥–µ–ª—å
- –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ A/B –¢–µ—Å—Ç–æ–≤**

A/B —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ **–∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

- **localStorage** –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- **React hooks** (useState, useEffect) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Yandex Metrika** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

### **–ü—Ä–æ—Ü–µ—Å—Å –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –í–∞—Ä–∏–∞–Ω—Ç–∞**

```typescript
// 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç
// 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º localStorage: –µ—Å—Ç—å –ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç?

const variant = getABVariant("hero_cta", ["A", "B", "C"]);

// 3. –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞–∑–Ω–∞—á–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
// 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
// 5. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ Yandex Metrika
// 6. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
```

**–ö–æ–¥ –∏–∑ `src/lib/analytics.ts`**:

```typescript
export function getABVariant(testName: ABTestName, variants: ABVariant[] = ["A", "B"]): ABVariant {
  // –ü–æ–ª—É—á–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
  const config = getABTestConfig();

  // –ï—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
  if (config[testName]) {
    return config[testName];
  }

  // –ò–Ω–∞—á–µ - —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä
  const randomIndex = Math.floor(Math.random() * variants.length);
  const variant = variants[randomIndex];

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
  config[testName] = variant;
  saveABTestConfig(config);

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ Metrika
  const goalName = `ab_test_${testName}_variant_${variant}` as MetrikaGoal;
  reachGoal(goalName, {
    test: testName,
    variant,
    timestamp: Date.now(),
  });

  return variant;
}
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ localStorage**

```json
{
  "ab_tests": {
    "hero_cta": "B",
    "messenger_order": "A"
  }
}
```

**–ö–ª—é—á**: `__uralliance_ab_tests`

---

## üé® –ö–∞–∫ –î–æ–±–∞–≤–∏—Ç—å –ù–æ–≤—ã–π A/B –¢–µ—Å—Ç

### **–®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –¢–∏–ø –≤ `src/lib/analytics.ts`**

```typescript
export type ABTestName = "hero_cta" | "messenger_order" | "your_new_test"; // <-- –¥–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞
```

### **–®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –¶–µ–ª–∏ –≤ `MetrikaGoal`**

```typescript
export type MetrikaGoal =
  | "contact_form_submit"
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  | `ab_test_your_new_test_variant_${"A" | "B" | "C"}`; // <-- –Ω–æ–≤–∞—è —Ü–µ–ª—å
```

### **–®–∞–≥ 3: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–µ**

```typescript
"use client";
import { useState, useEffect } from "react";
import { getABVariant } from "@/lib/analytics";

export function YourComponent() {
  const [variant, setVariant] = useState<"A" | "B" | "C">("A");

  useEffect(() => {
    const assignedVariant = getABVariant("your_new_test", ["A", "B", "C"]);
    setVariant(assignedVariant);
  }, []);

  return (
    <div>
      {variant === "A" && <VersionA />}
      {variant === "B" && <VersionB />}
      {variant === "C" && <VersionC />}
    </div>
  );
}
```

### **–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¶–µ–ª–∏ –≤ Yandex Metrika**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –¶–µ–ª–∏**
2. –°–æ–∑–¥–∞–π—Ç–µ 3 —Ü–µ–ª–∏ —Ç–∏–ø–∞ **JavaScript-—Å–æ–±—ã—Ç–∏–µ**:
   - `ab_test_your_new_test_variant_A`
   - `ab_test_your_new_test_variant_B`
   - `ab_test_your_new_test_variant_C`

### **–®–∞–≥ 5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¢–µ—Å—Ç**

–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª:

- –¶–µ–ª—å —Ç–µ—Å—Ç–∞
- –í–∞—Ä–∏–∞–Ω—Ç—ã –∏ –≥–∏–ø–æ—Ç–µ–∑—ã
- –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–±–µ–¥—ã

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Debug –ö–æ–º–∞–Ω–¥—ã –≤ –ö–æ–Ω—Å–æ–ª–∏ –ë—Ä–∞—É–∑–µ—Ä–∞**

–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (`NODE_ENV=development`) –¥–æ—Å—Ç—É–ø–Ω—ã —É—Ç–∏–ª–∏—Ç—ã:

```javascript
// 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ A/B —Ç–µ—Å—Ç—ã
window.analytics.getActiveABTests();
// –í—ã–≤–æ–¥: { hero_cta: "B", messenger_order: "A" }

// 2. –í—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç —Ç–µ—Å—Ç–∞
window.analytics.setABVariant("hero_cta", "C");
// –í—ã–≤–æ–¥: [Analytics] A/B Test "hero_cta": Manually set to variant C

// 3. –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ A/B —Ç–µ—Å—Ç—ã (–¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
window.analytics.resetABTests();
// –í—ã–≤–æ–¥: [Analytics] All A/B tests have been reset

// 4. –í—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ü–µ–ª—å –≤–∞—Ä–∏–∞–Ω—Ç–∞
window.analytics.reachGoal("ab_test_hero_cta_variant_B", { test: "hero_cta", variant: "B" });
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –í–∞—Ä–∏–∞–Ω—Ç–æ–≤**

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã Hero CTA**

```javascript
// –®–∞–≥ 1: –°–±—Ä–æ—Å–∏—Ç—å —Ç–µ—Å—Ç—ã
window.analytics.resetABTests();

// –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç A
window.analytics.setABVariant("hero_cta", "A");

// –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
location.reload();

// –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
// Legal: "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é"
// Tech: "–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"

// –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ B –∏ C
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Messenger Order –≤ Footer**

```javascript
// –í–∞—Ä–∏–∞–Ω—Ç A - Telegram, WhatsApp, Email
window.analytics.setABVariant("messenger_order", "A");
location.reload();

// –í–∞—Ä–∏–∞–Ω—Ç B - WhatsApp, Telegram, Email
window.analytics.setABVariant("messenger_order", "B");
location.reload();

// –í–∞—Ä–∏–∞–Ω—Ç C - Email only
window.analytics.setABVariant("messenger_order", "C");
location.reload();
```

### **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

–í—Å–µ —Å–æ–±—ã—Ç–∏—è A/B —Ç–µ—Å—Ç–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:

```
[Analytics] A/B Test "hero_cta": Assigned variant B
[Analytics] ‚úì Goal tracked: ab_test_hero_cta_variant_B { test: "hero_cta", variant: "B", timestamp: 1234567890 }
```

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ê–Ω–∞–ª–∏–∑—É

### **1. –í—Ä–µ–º—è –ü—Ä–æ–≤–µ–¥–µ–Ω–∏—è –¢–µ—Å—Ç–∞**

- **–ú–∏–Ω–∏–º—É–º**: 2 –Ω–µ–¥–µ–ª–∏ (2 –ø–æ–ª–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-—Ü–∏–∫–ª–∞)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: 4 –Ω–µ–¥–µ–ª–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ú–∞–∫—Å–∏–º—É–º**: 8 –Ω–µ–¥–µ–ª—å (–µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ - —Ç–µ—Å—Ç –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω)

### **2. –†–∞–∑–º–µ—Ä –í—ã–±–æ—Ä–∫–∏**

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏: https://www.optimizely.com/sample-size-calculator/

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:

- **Baseline CR**: –¢–µ–∫—É—â–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2%)
- **Minimum Detectable Effect**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–Ω–∞—á–∏–º–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ (10-20%)
- **Statistical Power**: 80% (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- **Significance Level**: 95% (p < 0.05)

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞**:

- Baseline CR: 2%
- MDE: 20% (—Å 2% –¥–æ 2.4%)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **~10,000 –≤–∏–∑–∏—Ç–æ–≤ –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç**

### **3. –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –î–∞–Ω–Ω—ã—Ö**

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º:

**–ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º —Ç—Ä–∞—Ñ–∏–∫–∞**:

- Organic search (Google, Yandex)
- Direct traffic
- Referral traffic
- Paid ads

**–ü–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º**:

- Desktop
- Mobile
- Tablet

**–ü–æ –≤—Ä–µ–º–µ–Ω–∏**:

- –ë—É–¥–Ω–∏–µ –¥–Ω–∏ vs –≤—ã—Ö–æ–¥–Ω—ã–µ
- –†–∞–±–æ—á–∏–µ —á–∞—Å—ã vs –≤–µ—á–µ—Ä

### **4. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ê–Ω–∞–ª–∏–∑**

–ü–æ–º–∏–º–æ —Ü–∏—Ñ—Ä, —É—á–∏—Ç—ã–≤–∞–π—Ç–µ:

- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–µ—Å–ª–∏ –µ—Å—Ç—å –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)
- **Heatmaps** (–∫–∞—Ä—Ç—ã –∫–ª–∏–∫–æ–≤) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Yandex Metrika –í–µ–±–≤–∏–∑–æ—Ä
- **Session recordings** - —Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–ø–∏—Å–∏ —Å–µ—Å—Å–∏–π
- **Exit rate** - –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –í–Ω–µ–¥—Ä–µ–Ω–∏—è –ü–æ–±–µ–¥–∏—Ç–µ–ª—è

### **–ö–æ–≥–¥–∞ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å –û–ø—Ä–µ–¥–µ–ª–µ–Ω**

**–®–∞–≥ 1: –§–∏–Ω–∞–ª—å–Ω–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞**

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

- ‚úÖ p-value < 0.05 (—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º)
- ‚úÖ –ú–∏–Ω–∏–º—É–º 100 –∫–æ–Ω–≤–µ—Ä—Å–∏–π –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 2+ –Ω–µ–¥–µ–ª—å
- ‚úÖ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç +10% –∏–ª–∏ –±–æ–ª—å—à–µ

**–®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –ö–æ–¥**

–ó–∞–º–µ–Ω–∏—Ç–µ A/B —Ç–µ—Å—Ç –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç-–ø–æ–±–µ–¥–∏—Ç–µ–ª—å:

```typescript
// –ë–´–õ–û (A/B —Ç–µ—Å—Ç):
const [ctaVariant, setCtaVariant] = useState<"A" | "B" | "C">("A");

useEffect(() => {
  const variant = getABVariant("hero_cta", ["A", "B", "C"]);
  setCtaVariant(variant);
}, []);

<Button>{HERO_CTA_VARIANTS[ctaVariant].legal}</Button>

// –°–¢–ê–õ–û (–ø–æ–±–µ–¥–∏—Ç–µ–ª—å B):
<Button>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤—Å—Ç—Ä–µ—á—É</Button> {/* Variant B won */}
```

**–®–∞–≥ 3: –£–¥–∞–ª–∏—Ç–µ A/B –¢–µ—Å—Ç –õ–æ–≥–∏–∫—É**

1. –£–¥–∞–ª–∏—Ç–µ `useState` –∏ `useEffect` –¥–ª—è —Ç–µ—Å—Ç–∞
2. –£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã)
3. –£–¥–∞–ª–∏—Ç–µ —Ü–µ–ª–∏ A/B —Ç–µ—Å—Ç–∞ –∏–∑ `src/lib/analytics.ts`
4. –ê—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ —Ü–µ–ª–∏ –≤ Yandex Metrika (–Ω–µ —É–¥–∞–ª—è–π—Ç–µ - –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)

**–®–∞–≥ 4: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã**

–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç:

```markdown
## A/B Test: Hero CTA Button Texts

**–î–∞—Ç–∞**: 01.12.2024 - 29.12.2024
**–ü–æ–±–µ–¥–∏—Ç–µ–ª—å**: Variant B

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:

| –í–∞—Ä–∏–∞–Ω—Ç | –ü–æ–∫–∞–∑—ã     | CTR      | CR        |
| ------- | ---------- | -------- | --------- |
| A       | 12,345     | 4.5%     | 1.2%      |
| **B**   | **12,198** | **5.8%** | **1.65%** |
| C       | 12,401     | 3.9%     | 0.95%     |

### –í—ã–≤–æ–¥—ã:

- Variant B –ø–æ–∫–∞–∑–∞–ª +29% –∫ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (p=0.032)
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤—Å—Ç—Ä–µ—á—É" –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ç –ª—É—á—à–µ
- –í–Ω–µ–¥—Ä–µ–Ω–æ 30.12.2024
```

---

## üîÑ –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ü–æ–¥—Ö–æ–¥

### **–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç** ‚Üí 2. **–°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ** ‚Üí 3. **–û–±—ä—è–≤–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è** ‚Üí 4. **–í–Ω–µ–¥—Ä–∏—Ç–µ** ‚Üí 5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç**

### **–ò–¥–µ–∏ –¥–ª—è –°–ª–µ–¥—É—é—â–∏—Ö –¢–µ—Å—Ç–æ–≤**

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö —Ç–µ—Å—Ç–æ–≤, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

**UI/UX —Ç–µ—Å—Ç—ã**:

- –¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫ (Legal gold vs Tech cyan)
- –ü–æ–∑–∏—Ü–∏—è —Ñ–æ—Ä–º—ã (floating button vs fixed section)
- –î–ª–∏–Ω–∞ —Ñ–æ—Ä–º—ã (–∫–æ—Ä–æ—Ç–∫–∞—è vs –ø–æ–¥—Ä–æ–±–Ω–∞—è)

**–ö–æ–Ω—Ç–µ–Ω—Ç —Ç–µ—Å—Ç—ã**:

- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π
- –û–ø–∏—Å–∞–Ω–∏—è —É—Å–ª—É–≥
- Social proof —ç–ª–µ–º–µ–Ω—Ç—ã

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**:

- –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ vs —Ä—É—á–Ω–æ–π –≤–≤–æ–¥
- –û–¥–∏–Ω —à–∞–≥ vs multi-step —Ñ–æ—Ä–º–∞
- Live chat vs –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–µ—Å—É—Ä—Å—ã

### **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**

- **A/B Test Calculator**: https://www.abtestguide.com/calc/
- **Sample Size Calculator**: https://www.optimizely.com/sample-size-calculator/
- **Statistical Significance**: https://www.surveymonkey.com/mp/ab-testing-significance-calculator/

### **–õ—É—á—à–∏–µ –ü—Ä–∞–∫—Ç–∏–∫–∏**

- **Google Optimize Guide**: https://support.google.com/optimize
- **VWO A/B Testing**: https://vwo.com/ab-testing/
- **Optimizely Resources**: https://www.optimizely.com/optimization-glossary/

### **–ö–Ω–∏–≥–∏**

- "A/B Testing: The Most Powerful Way to Turn Clicks Into Customers" - Dan Siroker
- "Trustworthy Online Controlled Experiments" - Ron Kohavi

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### **–ß–µ–≥–æ –ù–ï –î–µ–ª–∞—Ç—å**

‚ùå **–ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ç–µ—Å—Ç —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏** - –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏

‚ùå **–ù–µ –º–µ–Ω—è–π—Ç–µ —Ç–µ—Å—Ç –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è** - —ç—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ

‚ùå **–ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å—Ä–∞–∑—É** - –º–∞–∫—Å–∏–º—É–º 3-4 –≤–∞—Ä–∏–∞–Ω—Ç–∞

‚ùå **–ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –º–æ–±–∏–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫** - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ

‚ùå **–ù–µ –≤–Ω–µ–¥—Ä—è–π—Ç–µ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç** - –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω "–∫—Ä–∞—Å–∏–≤–µ–µ"

### **–≠—Ç–∏—á–µ—Å–∫–∏–µ –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è**

‚úÖ **–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ä–∞–±–æ—á–∏–π —Å–∞–π—Ç** - —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

‚úÖ **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - A/B —Ç–µ—Å—Ç—ã –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ

---

**–°–æ–∑–¥–∞–Ω–æ**: –î–µ–∫–∞–±—Ä—å 2024
**–í–µ—Ä—Å–∏—è**: 1.0
**–ê–≤—Ç–æ—Ä**: UrAlliance Development Team

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤—ã—Ö.
